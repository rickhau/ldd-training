diff --git a/cdata.c b/cdata.c
index 40b789a..b0ae7e4 100644
--- a/cdata.c
+++ b/cdata.c
@@ -15,6 +15,9 @@
 #include <asm/io.h>
 #include <asm/uaccess.h>
 
+#define DEV_MAJOR 121
+#define DEV_NAME "cdata"
+
 static int cdata_open(struct inode *inode, struct file *filp)
 {
 	return 0;
@@ -25,7 +28,7 @@ static int cdata_close(struct inode *inode, struct file *filp)
 	return 0;
 }
 
-static int cdata_write(struct inode *inode, struct file *filp)
+static int cdata_write(struct file *filp, const char *buff, size_t size, loff_t *)
 {
 	return 0;
 }
@@ -38,10 +41,16 @@ static struct file_operations cdata_fops = {
 
 int cdata_init_module(void)
 {
+  if(register_chrdev(DEV_MAJOR, DEV_NAME, &cdata_fops) < 0){
+   printk(KERN_INFO "CDATA: Couldn't register a device.");
+   return -1; 
+  }
+  return 0;
 }
 
 void cdata_cleanup_module(void)
 {
+  unregister_chrdev(DEV_MAJOR, DEV_NAME);
 }
 
 module_init(cdata_init_module);
